<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="module_department_management" model="ir.module.category">
        <field name="name">Department Management</field>
        <field name="sequence">1</field>
    </record>
    <record id="group_student" model="res.groups">
        <field name="name">Student</field>
        <field name="category_id" ref="module_department_management"/>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        <field name="comment">Student only see all department</field>
    </record>
    <record id="group_employee" model="res.groups">
        <field name="name">Employee</field>
        <field name="category_id" ref="module_department_management"/>
        <field name="implied_ids" eval="[(4, ref('cr_department_management.group_student'))]"/>
        <field name="comment">See all student and edit in department</field>
    </record>
    <record id="group_manager" model="res.groups">
        <field name="name">Manager</field>
        <field name="category_id" ref="module_department_management"/>
        <field name="implied_ids" eval="[(4, ref('cr_department_management.group_employee'))]"/>
        <field name="comment">can do everything</field>
    </record>
    <record id="rule_department_global_active_only" model="ir.rule">
        <field name="name">Active only active department</field>
        <field name="model_id" ref="model_department_department"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[('company_id','in', company_ids)]</field>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>

    <record id="rule_visible_only_own_record_in_student" model="ir.rule">
        <field name="name">Manager:only see own record in student model</field>
        <field name="model_id" ref="model_student_student"/>
        <field name="groups" eval="[Command.link(ref('cr_department_management.group_manager'))]"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[('create_uid', '=',user.id)]</field>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>
    <record id="rule_visible_only_own_record_in_employee" model="ir.rule">
        <field name="name">Manager:only see own record in employee model</field>
        <field name="model_id" ref="model_employee_employee"/>
        <field name="groups" eval="[Command.link(ref('cr_department_management.group_manager'))]"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[('create_uid', '=',user.id)]</field>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>
     <record id="rule_visible_only_own_record_in_department" model="ir.rule">
        <field name="name">Manager:only see own record in department model</field>
        <field name="model_id" ref="model_department_department"/>
        <field name="groups" eval="[Command.link(ref('cr_department_management.group_manager'))]"/>
        <field name="global" eval="False"/>
        <field name="domain_force">[('create_uid', '=',user.id)]</field>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>
</odoo>